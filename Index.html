<!DOCTYPE html>
<html lang="ar">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ØªØ·Ø¨ÙŠÙ‚ÙŠ</title>

  <!-- Ø£ÙŠÙ‚ÙˆÙ†Ø© Ø£Ø³Ø§Ø³ÙŠØ© -->
  <link rel="icon" type="image/png" sizes="192x192"
        href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMAAAADACAYAAABS3GwHAAAABHNCSVQICAgIfAhkiAAAACJJREFUeJ7twQEBAAAAgiD/r25IQAEAAAAAAAAAAAAAAAAAAADwLOsAAQGBtM0AAAAASUVORK5CYII=">

  <!-- Ù…ÙŠØªØ§ PWA -->
  <meta name="theme-color" content="#317EFB"/>

  <!-- manifest Ø¯Ø§Ø®Ù„ Ø§Ù„ØµÙØ­Ø© -->
  <script type="application/ld+json" id="manifest-placeholder">
  {
    "name": "ØªØ·Ø¨ÙŠÙ‚ÙŠ",
    "short_name": "ØªØ·Ø¨ÙŠÙ‚",
    "start_url": ".",
    "display": "standalone",
    "background_color": "#ffffff",
    "theme_color": "#317EFB",
    "description": "ØªØ·Ø¨ÙŠÙ‚ ÙˆÙŠØ¨ ØªØ¬Ø±ÙŠØ¨ÙŠ Ù„ØªØ¬Ø±Ø¨Ø© Ø§Ù„ØªØ­ÙˆÙŠÙ„ Ø¥Ù„Ù‰ APK Ù…Ù† Ø§Ù„Ù‡Ø§ØªÙ ÙÙ‚Ø·.",
    "icons": [
      {
        "src": "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMAAAADACAYAAABS3GwHAAAABHNCSVQICAgIfAhkiAAAACJJREFUeJ7twQEBAAAAgiD/r25IQAEAAAAAAAAAAAAAAAAAAADwLOsAAQGBtM0AAAAASUVORK5CYII=",
        "sizes": "192x192",
        "type": "image/png"
      }
    ]
  }
  </script>

  <script>
    // ÙŠØ®Ù„ÙŠ Ø§Ù„Ù…ØªØµÙØ­ ÙŠØ´ÙˆÙ Ø§Ù„Ù…Ø§Ù†ÙŠÙØ³Øª Ù…Ù† Ø¯Ø§Ø®Ù„ Ø§Ù„ØµÙØ­Ø©
    const manifest = document.getElementById('manifest-placeholder').textContent;
    const blob = new Blob([manifest], { type: 'application/json' });
    const manifestURL = URL.createObjectURL(blob);
    const link = document.createElement('link');
    link.rel = 'manifest';
    link.href = manifestURL;
    document.head.appendChild(link);
  </script>
</head>
<body>
  <h1>Ù…Ø±Ø­Ø¨Ø§ Ø¨Ùƒ ğŸ‘‹</h1>
  <p>Ù‡Ø°Ø§ Ø§Ø®ØªØ¨Ø§Ø± PWA Ø¨Ù…Ù„Ù ÙˆØ§Ø­Ø¯ ÙÙ‚Ø· Ù…Ø¹ ÙˆØµÙ Ø¯Ø§Ø®Ù„ manifest.</p>

  <script>
    // ØªØ³Ø¬ÙŠÙ„ service worker Ø¯Ø§Ø®Ù„ Ù†ÙØ³ Ø§Ù„Ù…Ù„Ù
    if ('serviceWorker' in navigator) {
      const swCode = `
        self.addEventListener('install', e => {
          console.log('Service Worker: Installed');
          e.waitUntil(self.skipWaiting());
        });
        self.addEventListener('activate', e => {
          console.log('Service Worker: Active');
          return self.clients.claim();
        });
      `;
      const blob = new Blob([swCode], { type: 'application/javascript' });
      const swURL = URL.createObjectURL(blob);
      navigator.serviceWorker.register(swURL);
    }
  </script>
</body>
</html>
